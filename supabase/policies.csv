?column?
"CREATE POLICY Drivers can view their own participation ON public.campaign_participants FOR SELECT TO public USING ((driver_id = ( SELECT drivers.id
   FROM drivers
  WHERE (drivers.user_id = ( SELECT users.id
           FROM users
          WHERE (auth.uid() = users.user_id))))));"
CREATE POLICY System can manage participation ON public.campaign_participants FOR ALL TO public USING (true);
"CREATE POLICY Users can view leaderboard ON public.campaign_participants FOR SELECT TO public USING ((EXISTS ( SELECT 1
   FROM campaigns
  WHERE ((campaigns.id = campaign_participants.campaign_id) AND (campaigns.show_leaderboard = true)))));"
CREATE POLICY System can manage campaigns ON public.campaigns FOR ALL TO public USING (true);
"CREATE POLICY Users can view active campaigns ON public.campaigns FOR SELECT TO authenticated USING (((status)::text = ANY ((ARRAY['upcoming'::character varying, 'active'::character varying])::text[])));"
"CREATE POLICY Users can insert chats they participate in ON public.chats FOR INSERT TO public WITH CHECK (((auth.uid())::text IN ( SELECT (users.user_id)::text AS user_id
   FROM users
  WHERE (users.id = ANY (chats.participants)))));"
"CREATE POLICY Users can update their own chats ON public.chats FOR UPDATE TO public USING (((auth.uid())::text IN ( SELECT (users.user_id)::text AS user_id
   FROM users
  WHERE (users.id = ANY (chats.participants)))));"
"CREATE POLICY Users can view their own chats ON public.chats FOR SELECT TO public USING (((auth.uid())::text IN ( SELECT (users.user_id)::text AS user_id
   FROM users
  WHERE (users.id = ANY (chats.participants)))));"
CREATE POLICY Public profiles are viewable by everyone. ON public.delivery_persons FOR SELECT TO public USING (true);
"CREATE POLICY Users can insert their own delivery requests. ON public.delivery_requests FOR INSERT TO public WITH CHECK ((auth.uid() IN ( SELECT users.user_id
   FROM users
  WHERE (users.id = ( SELECT passengers.user_id
           FROM passengers
          WHERE (passengers.id = delivery_requests.passenger_id))))));"
"CREATE POLICY Users can view their own delivery requests. ON public.delivery_requests FOR SELECT TO public USING ((auth.uid() IN ( SELECT users.user_id
   FROM users
  WHERE (users.id = ( SELECT passengers.user_id
           FROM passengers
          WHERE (passengers.id = delivery_requests.passenger_id))))));"
CREATE POLICY Passengers can view driver profiles ON public.drivers FOR SELECT TO public USING (true);
CREATE POLICY Users can insert own driver profile ON public.drivers FOR INSERT TO public WITH CHECK ((user_id = get_user_internal_id()));
CREATE POLICY Users can update own driver profile ON public.drivers FOR UPDATE TO public USING ((user_id = get_user_internal_id()));
CREATE POLICY Users can view own driver profile ON public.drivers FOR SELECT TO public USING ((user_id = get_user_internal_id()));
CREATE POLICY Authenticated users can view events ON public.events FOR SELECT TO authenticated USING (true);
CREATE POLICY System can manage events ON public.events FOR ALL TO public USING (true);
"CREATE POLICY Users can delete their own messages ON public.messages FOR DELETE TO public USING (((auth.uid())::text = ( SELECT (users.user_id)::text AS user_id
   FROM users
  WHERE (users.id = messages.sender_id))));"
"CREATE POLICY Users can insert their own messages ON public.messages FOR INSERT TO public WITH CHECK (((auth.uid())::text = ( SELECT (users.user_id)::text AS user_id
   FROM users
  WHERE (users.id = messages.sender_id))));"
"CREATE POLICY Users can update their own messages ON public.messages FOR UPDATE TO public USING (((auth.uid())::text IN ( SELECT (users.user_id)::text AS user_id
   FROM users
  WHERE ((users.id = messages.sender_id) OR (users.id = messages.receiver_id)))));"
"CREATE POLICY Users can view their own messages ON public.messages FOR SELECT TO public USING (((auth.uid())::text IN ( SELECT (users.user_id)::text AS user_id
   FROM users
  WHERE ((users.id = messages.sender_id) OR (users.id = messages.receiver_id)))));"
CREATE POLICY Drivers can view passenger profiles ON public.passengers FOR SELECT TO public USING (true);
CREATE POLICY Users can insert own passenger profile ON public.passengers FOR INSERT TO public WITH CHECK ((user_id = get_user_internal_id()));
CREATE POLICY Users can update own passenger profile ON public.passengers FOR UPDATE TO public USING ((user_id = get_user_internal_id()));
CREATE POLICY Users can view own passenger profile ON public.passengers FOR SELECT TO public USING ((user_id = get_user_internal_id()));
CREATE POLICY System can insert rewards ON public.referral_rewards FOR INSERT TO public WITH CHECK (true);
CREATE POLICY System can update rewards ON public.referral_rewards FOR UPDATE TO public USING (true);
"CREATE POLICY Users can view their own rewards ON public.referral_rewards FOR SELECT TO public USING ((user_id = ( SELECT users.id
   FROM users
  WHERE (auth.uid() = users.user_id))));"
CREATE POLICY System can insert referrals ON public.referrals FOR INSERT TO public WITH CHECK (true);
CREATE POLICY System can update referrals ON public.referrals FOR UPDATE TO public USING (true);
"CREATE POLICY Users can view referrals where they are referred ON public.referrals FOR SELECT TO public USING ((referred_user_id = ( SELECT users.id
   FROM users
  WHERE (auth.uid() = users.user_id))));"
"CREATE POLICY Users can view their own referrals ON public.referrals FOR SELECT TO public USING ((referrer_id = ( SELECT users.id
   FROM users
  WHERE (auth.uid() = users.user_id))));"
CREATE POLICY Drivers can accept pending rides ON public.ride_requests FOR UPDATE TO public USING ((((status)::text = 'pending'::text) AND (driver_id IS NULL))) WITH CHECK (((driver_id = get_user_driver_id()) AND ((status)::text = 'accepted'::text)));
"CREATE POLICY Drivers can cancel assigned rides ON public.ride_requests FOR UPDATE TO public USING (((driver_id = get_user_driver_id()) AND ((status)::text = ANY ((ARRAY['accepted'::character varying, 'in_progress'::character varying])::text[])))) WITH CHECK (((status)::text = 'cancelled_by_driver'::text));"
"CREATE POLICY Drivers can update assigned rides ON public.ride_requests FOR UPDATE TO public USING (((driver_id = get_user_driver_id()) AND ((status)::text = ANY ((ARRAY['accepted'::character varying, 'in_progress'::character varying])::text[]))));"
CREATE POLICY Drivers can view assigned rides ON public.ride_requests FOR SELECT TO public USING ((driver_id = get_user_driver_id()));
CREATE POLICY Drivers can view pending rides ON public.ride_requests FOR SELECT TO public USING ((((status)::text = 'pending'::text) AND (driver_id IS NULL)));
"CREATE POLICY Passengers can cancel own rides ON public.ride_requests FOR UPDATE TO public USING (((passenger_id = get_user_passenger_id()) AND ((status)::text = ANY ((ARRAY['pending'::character varying, 'accepted'::character varying])::text[])))) WITH CHECK (((status)::text = 'cancelled_by_passenger'::text));"
CREATE POLICY Passengers can create ride requests ON public.ride_requests FOR INSERT TO authenticated WITH CHECK ((passenger_id = get_user_passenger_id()));
"CREATE POLICY Passengers can delete own cancelled rides ON public.ride_requests FOR DELETE TO public USING (((passenger_id = get_user_passenger_id()) AND ((status)::text = ANY ((ARRAY['pending'::character varying, 'cancelled_by_passenger'::character varying, 'cancelled_by_driver'::character varying])::text[]))));"
CREATE POLICY Passengers can update own pending rides ON public.ride_requests FOR UPDATE TO public USING (((passenger_id = get_user_passenger_id()) AND ((status)::text = 'pending'::text)));
CREATE POLICY Passengers can view own rides ON public.ride_requests FOR SELECT TO public USING ((passenger_id = get_user_passenger_id()));
CREATE POLICY Users can create own rides ON public.ride_requests FOR INSERT TO public WITH CHECK ((passenger_id = get_user_passenger_id()));
CREATE POLICY Users can delete own rides ON public.ride_requests FOR DELETE TO public USING ((passenger_id = get_user_passenger_id()));
CREATE POLICY Users can update own rides ON public.ride_requests FOR UPDATE TO public USING (((passenger_id = get_user_passenger_id()) OR (driver_id = get_user_driver_id())));
CREATE POLICY Users can view own rides ON public.ride_requests FOR SELECT TO public USING (((passenger_id = get_user_passenger_id()) OR (driver_id = get_user_driver_id())));
CREATE POLICY Allow insert during signup ON public.users FOR INSERT TO public WITH CHECK ((auth.uid() = user_id));
"CREATE POLICY Drivers can read passenger user data ON public.users FOR SELECT TO authenticated USING (((user_id = auth.uid()) OR ((EXISTS ( SELECT 1
   FROM drivers
  WHERE ((drivers.user_id)::text = (auth.uid())::text))) OR (role = 'passenger'::text))));"
CREATE POLICY Users can delete own profile ON public.users FOR DELETE TO public USING ((auth.uid() = user_id));
CREATE POLICY Users can update own profile ON public.users FOR UPDATE TO public USING ((auth.uid() = user_id));
CREATE POLICY Users can view own profile ON public.users FOR SELECT TO public USING ((auth.uid() = user_id));