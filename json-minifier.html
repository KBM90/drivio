<!DOCTYPE html>
<html>
<head>
    <title>JSON Minifier</title>
    <style>
        body { font-family: Arial; padding: 20px; max-width: 800px; margin: 0 auto; }
        textarea { width: 100%; height: 200px; margin: 10px 0; padding: 10px; font-family: monospace; }
        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; font-size: 16px; }
        button:hover { background: #45a049; }
        .success { color: green; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Firebase JSON Minifier</h1>
    <p>Paste your Firebase service account JSON below:</p>
    
    <textarea id="input" placeholder="Paste your JSON here..."></textarea>
    
    <button onclick="minify()">Minify JSON</button>
    <button onclick="copyResult()">Copy Result</button>
    
    <p><strong>Minified Result (use this in Supabase):</strong></p>
    <textarea id="output" readonly></textarea>
    
    <div id="message" class="success"></div>
    
    <script>
        function minify() {
            const input = document.getElementById('input').value;
            try {
                const parsed = JSON.parse(input);
                const minified = JSON.stringify(parsed);
                document.getElementById('output').value = minified;
                document.getElementById('message').textContent = '✓ JSON minified successfully!';
            } catch (e) {
                document.getElementById('message').textContent = '✗ Invalid JSON: ' + e.message;
                document.getElementById('message').style.color = 'red';
            }
        }
        
        function copyResult() {
            const output = document.getElementById('output');
            output.select();
            document.execCommand('copy');
            document.getElementById('message').textContent = '✓ Copied to clipboard!';
            document.getElementById('message').style.color = 'green';
        }
    </script>
</body>
</html>
